<ion-header>
  <ion-toolbar>
    <ion-title>Groups</ion-title>
    <ion-buttons slot="end">
      <ion-button [routerLink]="['/profile']">
        <ion-icon name="person-circle-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
  <ion-toolbar>
    <ion-searchbar (ionChange)="search($event)"></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div *ngIf="displaySearchResult">
    <ion-list>
      <ion-item
        *ngFor="let group of groupsSearch"
        button
        detail="true"
        (click)="displayGroup(group)"
      >
        <ion-label>{{ group.name }}</ion-label>
      </ion-item>
    </ion-list>
    <ion-label *ngIf="groupsSearch.length == 0"
      >Aucun groupe trouv√©...</ion-label
    >
  </div>
  <div *ngIf="!displaySearchResult">
    <h2>Mes groupes</h2>
    <ion-item
      *ngFor="let group of storeService.myGroups"
      button
      detail="true"
      (click)="displayGroup(group)"
    >
      <ion-label>
        <h3>{{group.name}}</h3>
      </ion-label>
    </ion-item>
    <h2>Tous les groupes</h2>
    <ion-item
      *ngFor="let group of storeService.allGroups"
      button
      detail="true"
      (click)="displayGroup(group)"
    >
      <ion-label>
        <h3>{{group.name}}</h3>
      </ion-label>
    </ion-item>
  </div>
  <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button routerLink="/create-group">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
